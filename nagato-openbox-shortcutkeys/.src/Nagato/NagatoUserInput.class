' Gambas class file

Inherits NagatoObject

Private $xmlElement As New NagatoXmlElement
Private $comboBox As NagatoComboBox
Private $textBox As NagatoTextBox

Public Sub Refresh(argXmlElement As XmlElement)
    
    $xmlElement.Reset(argXmlElement)
    
    If $xmlElement.IsText Then
        $comboBox.Hide()
        $textBox.Reset($xmlElement.CurrentValue)
    Else
        $comboBox.Reset($xmlElement.List, $xmlElement.CurrentValue)
        $textBox.Hide()
    Endif
    
End

Public Sub _new(argContainer As Container)
    
    $comboBox = New NagatoComboBox(argContainer) As "Widget"
    $textBox = New NagatoTextBox(argContainer) As "Widget"
    
End

Public Sub Widget_Signal(argSignal As Integer, argValues As Variant[])
    
    If $xmlElement.SetValue(argValues[0]) Then Raise Signal(MikuruSignal.ValueChanged, Null)
    
End
