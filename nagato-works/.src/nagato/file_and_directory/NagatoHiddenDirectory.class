' Gambas class file

Create Static

Property Read DictionaryFilePath As String
Property Read CompDictFilePath As String
Property Read EnamDictFilePath As String
Property Read WebCacheDir As String

Private Const AppHiddenDirectory As String = ".nagatoworks"
Private Const DataDirectory As String = "data"
Private Const WebCacheDirectory As String = "nagato-works"

Private Sub createAppHiddenDirectory()
    
   Mkdir User.Home &/ AppHiddenDirectory 
    
End

Private Sub copyDictionaryFile()
    
    Dim yukiFile As String
    
    yukiFile = File.Load("data/utf8ededict")
    File.Save(User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "dictfile", yukiFile)
    
End

Private Sub copyCompDictFile()
    
    Dim yukiFile As String
    
    yukiFile = File.Load("data/compdic")
    File.Save(User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "compdictfile", yukiFile)
    
End

Private Sub copyEnamDictFile()
    
    Dim yukiFile As String
    
    yukiFile = File.Load("data/enamdict")
    File.Save(User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "enamdictfile", yukiFile)
    
End

Private Sub creatDataDirectory()
    
    Mkdir User.Home &/ AppHiddenDirectory &/ DataDirectory
    copyDictionaryFile()
    copyCompDictFile()
    copyEnamDictFile()
    
End

Private Sub creatWebCacheDirectory()
    
    Mkdir User.Home &/ ".cache" &/ WebCacheDirectory
    
End

Public Sub _new()
    
    If Not Exist(User.Home &/ AppHiddenDirectory) Then createAppHiddenDirectory()
    If Not Exist(User.Home &/ AppHiddenDirectory &/ DataDirectory) Then creatDataDirectory()
    If Not Exist(User.Home &/ ".cache" &/ WebCacheDirectory) Then creatWebCacheDirectory()
    
End

Private Function DictionaryFilePath_Read() As String

    Return User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "dictfile"

End

Private Function CompDictFilePath_Read() As String

    Return User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "compdictfile"

End

Private Function EnamDictFilePath_Read() As String

    Return User.Home &/ AppHiddenDirectory &/ DataDirectory &/ "enamdictfile"

End

Private Function WebCacheDir_Read() As String

    Return User.Home &/ ".cache" &/ WebCacheDirectory

End
