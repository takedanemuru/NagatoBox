' Gambas class file

Inherits NagatoToolBar

Private $webViewButtons As NagatoWebViewButtons

Event HomePage
Event Forward
Event Back
Event Reload
Event Stop
Event NewUrl(argUrl As String)
Event SetHomePage
Event AddBookmark
Event EditPage

Private Sub addSpacer()
    
    Dim yukiSpacer As New Panel(Me._$parent)
    
    With yukiSpacer
        .Width = Me._$parent.Height
    End With
    
End

Private Sub addBookmarkButton()
    
    Dim yukiBookmarkButton As New NagatoBookmarkButton(Me._$parent) 
    Dim yukiMenu As NagatoWebBrowserBookmarkMenu
    
    yukiMenu = New NagatoWebBrowserBookmarkMenu(yukiBookmarkButton.RootMenu) As "GearMenu"
    yukiMenu.Activate()
    
End

Private Sub addGearButton()
    
    Dim yukiGearButton As New NagatoGearButton(Me._$parent)
    Dim yukiMenu As NagatoWebBrowserMenu
    
    yukiMenu = New NagatoWebBrowserMenu(yukiGearButton.RootMenu) As "GearMenu"
    
End

Public Sub _Initialize() 'override
    
    $webViewButtons = New NagatoWebViewButtons(Me._$parent) As "WebViewButtons"
    addBookmarkButton()
    addGearButton()
    
End

Public Sub SetUrl(argUrl As String)
    
   $webViewButtons.UrlBoxText = argUrl 
    
End

Public Sub SetButton(argButtonMode As Integer)
    
    $webViewButtons.SetButton(argButtonMode)
    
End

Public Sub WebViewButtons_HomePage()
    
    Raise HomePage
    
End

Public Sub WebViewButtons_Back()
    
    Raise Back
    
End

Public Sub WebViewButtons_Forward()
    
    Raise Forward
    
End

Public Sub WebViewButtons_Reload()
    
    Raise Reload
    
End

Public Sub WebViewButtons_Halt()
    
    Raise Stop
    
End

Public Sub WebViewButtons_UrlBoxClick(argUrlText As String)
    
    If Not argUrlText = "" Then Raise NewUrl(argUrlText)
    
End

Public Sub WebViewButtons_UrlBoxKeyPressEnter(argUrlText As String)
    
    Raise NewUrl(argUrlText)
    
End

Public Sub GearMenu_SetHomePage()
    
    Raise SetHomePage
    
End

Public Sub GearMenu_AddBookmark()
    
    Raise AddBookmark
    
End

Public Sub GearMenu_EditPage()
    
    Raise EditPage
    
End
