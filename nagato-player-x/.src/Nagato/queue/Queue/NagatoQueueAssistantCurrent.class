' Gambas class file

Inherits NagatoQueueAssistant

Property Read CoverArt As Picture
Property Read Titile As String
Property Read Artist As String
Property Read Album As String
Property Read Url As String
Property Read Index As Integer
Property Read DurationData As NagatoDurationData

Private $coverArt As Picture

Public Sub Reload()
    
    $coverArt = MikuruEyeD3.GetPicture(Me._$musicList[Me._$musicList.CurrentIndex].Path, MikuruUx.CoverArt.Size)
    
End

Public Sub _OptionalOnInitialize()
    
    Me.Reload()
    
End

Private Function CoverArt_Read() As Picture

    Return $coverArt

End

Private Function Titile_Read() As String

    Return Me._$musicList[Me._$musicList.CurrentIndex].Title

End

Private Function Artist_Read() As String

    Return Me._$musicList[Me._$musicList.CurrentIndex].Artist
    
End

Private Function Album_Read() As String

    Return Me._$musicList[Me._$musicList.CurrentIndex].Album

End

Private Function Url_Read() As String

    Return Media.URL(Me._$musicList[Me._$musicList.CurrentIndex].Path)

End

Private Function Index_Read() As Integer

    Return Me._$musicList.CurrentIndex

End

Private Function DurationData_Read() As NagatoDurationData

    Dim yukiDurationData As NagatoDurationData = Me._$player.GetDurationData()

    yukiDurationData.OverrideDuration(Me._$musicList[Me._$musicList.CurrentIndex].Duration)

    Return yukiDurationData

End
