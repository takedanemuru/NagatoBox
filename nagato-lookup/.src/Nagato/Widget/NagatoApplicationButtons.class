' Gambas class file

Inherits NagatoWidget

Private $recentApplicationsButton As NagatoRecentApplicationsButton

Private Sub addMenuButton(argTitle As String, argCategory As String, argIcon As Picture)
    
    Dim yukiButton As MenuButton
    Dim yukiMenu As NagatoApplicationsMenu
    
    If NagatoMenuCache3.GetApplications(argCategory).Count = 0 Then Return
    
    yukiButton = New MenuButton(Me._$container) 
    
    With yukiButton
        .Text = argTitle
        .AutoResize = True
        .Arrow = False
        If argIcon Then .Picture = argIcon
        .Border = False
        '.Foreground = NagatoSettings.FontColor
    End With

    yukiMenu = New NagatoApplicationsMenu(yukiButton, argCategory, argTitle)
    
Catch
    Return
    
End

Public Sub _InitializeWidget()
    
    If NagatoSettings.RecentApplications Then 
        $recentApplicationsButton = New NagatoRecentApplicationsButton(Me._$container)
    End If
    
    addMenuButton(("Nagato"), "Nagato", MikuruIcons.Get("star"))
    addMenuButton(("Develop"), "Developments", MikuruIcons.Get("wrench"))
    addMenuButton(("Education"), "Educations", MikuruIcons.Get("bank"))
    addMenuButton(("Game"), "Games", MikuruIcons.Get("game-controller"))
    addMenuButton(("Graphics"), "Graphics", MikuruIcons.Get("image"))
    addMenuButton(("Office"), "Offices", MikuruIcons.Get("document-edit"))
    addMenuButton(("Media"), "Medias", MikuruIcons.Get("video-music"))
    addMenuButton(("Network"), "Networks", MikuruIcons.Get("web"))
    addMenuButton(("Settings"), "Settings", MikuruIcons.Get("equalizer"))
    addMenuButton(("System"), "Systems", MikuruIcons.Get("computer"))
    addMenuButton(("Utility"), "Utilities", MikuruIcons.Get("scissors"))
    'addMenuButton(("KDE"), "Kde4", MikuruIcons.Get("gear"))
    
End
