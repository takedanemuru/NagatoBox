' Gambas module file

Private Function IsUnique() As Boolean
    
    If Not DBus.Session.Applications.Exist("org.gambas.nagato.lookup") Then
        NagatoDBus.Register()
        Return True
    End If
    
End

Public Sub Main()

    NagatoArguments.Parsing()
    MikuruTheme.Set()
    
    If NagatoArguments.PipeMenu Then
        NagatoMenuCache3.Activate()
        NagatoPipeMenu.Get(NagatoArguments.Category)
    Else If IsUnique() Then
        NagatoMenuCache3.Activate()
        HaruhiMain.Show()
    End If
    
    HaruhiApplicationSearch.SetIconViewWithAllSettingsApps()
    
End
