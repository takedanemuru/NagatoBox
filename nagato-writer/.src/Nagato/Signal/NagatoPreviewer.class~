' Gambas class file

Inherits NagatoUxContainer

Private $webview As WebView
Private $observer As Observer

Public Sub Refresh(argSource As String, argFormat As String)
    
    MikuruHtmlConverter.ToHtmlDirect(argSource, argFormat)
    $webview.Url = Media.URL(MikuruHtmlConverter.TempFile)
    
    $webview.Refresh()
    
End

Public Sub _Initialize()
    
    $webview = New WebView(Me._$parentContainer) As "WebView"
    
    With $webview
        .Expand = True
        .NoTabFocus = True
    End With
    
    $observer = New Observer(NagatoSettings) As "Asakura"
    
End

Public Sub Asakura_RequestReload()
    
    Debug "reload"
    
    $webview.Refresh()
    
End
