' Gambas class file

Property Read Name As String

Private $player As MediaPlayer
Private $sounds As New NagatoAmbientSounds

Private Sub playCurrent()
    
    Try $player.Stop()
    $player.URL = $sounds.CurrentUrl
    $player.Play()
    
End

Public Sub Play()
    
    $sounds.RandomIndex
    playCurrent()
    
    $player.Audio.SoftwareVolume = True
    
End

Public Sub Next()
    
    $sounds.ForwardIndex
    playCurrent()
    
End

Public Sub Back()
    
    $sounds.BackIndex
    playCurrent()
    
End

Public Sub Random()
    
    $sounds.RandomIndex
    playCurrent()
    
End

Public Sub Kill()
    
    $player.Stop()
    
End

Public Sub _new()
    
    $player = New MediaPlayer As "Player"
    $player.Audio.Volume = 0.5
    
End

Public Sub Player_End()
    
    playCurrent()
    
End

Private Function Name_Read() As String

    Return $sounds.Name

End
