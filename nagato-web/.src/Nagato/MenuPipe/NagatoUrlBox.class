' Gambas class file

Inherits NagatoMenuWidget

Property Read Url As String

Private $urlBox As ButtonBox

Public Sub _InitializeWidget() ' override
    
    $urlBox = New ButtonBox(Me._$container) As "UrlBox"
    
    With $urlBox
        .Expand = True
        .Border = False
        .Foreground = Color.Pink
        .Picture = MikuruIcon.Get("button-rotate-ccw")
    End With
    
End

Public Sub SetUrl(argUrl As String)
    
    Object.Lock($urlBox)
        $urlBox.Text = argUrl
        $urlBox.SetFocus()
    Object.Unlock($urlBox)
    
End

Public Sub SetFocus()
    
    '$urlBox.SetFocus()
    
End

Public Sub UrlBox_Click()
    
    If $urlBox.Text = "" Then Return
    
    Raise MenuEventWithArg(NagatoMenuPipe.UrlNew, $urlBox.Text)
    
End

Public Sub UrlBox_Activate()
    
    UrlBox_Click()
    
End

Private Function Url_Read() As String

    Return $urlBox.Text

End
