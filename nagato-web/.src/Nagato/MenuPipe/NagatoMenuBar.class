' Gambas class file

Inherits NagatoMenuPipe

Private $container As Container
Private $backButton As NagatoBackButton
Private $forwardButton As NagatoForwardButton
Private $urlBox As NagatoUrlBox
Private $downloadButton As NagatoDownloadButton
Private $bookmarkButton As NagatoBookmarkButton
Private $startButton As NagatoStartButton

Public Sub SetNavigationButton(argHistoryIndex As Integer, argHistoryMax As Integer)
    
    $backButton.SetEnabled(argHistoryIndex > 0)
    $forwardButton.SetEnabled(argHistoryIndex <> argHistoryMax)
    $urlBox.SetFocus()
    
End

Public Sub SetUrl(argUrl As String)
    
    If $urlBox.Url = argUrl Then Return
    
    $urlBox.SetUrl(argUrl)
    $downloadButton.SetUrl(argUrl)
    
End

Public Sub _new(argContainer As Container)
    
    $container = argContainer
    $backButton = New NagatoBackButton(argContainer) As "Menu"
    $forwardButton = New NagatoForwardButton(argContainer) As "Menu"
    $urlBox = New NagatoUrlBox(argContainer) As "Menu"
    $downloadButton = New NagatoDownloadButton(argContainer) As "Menu"
'     $historyButton = New NagatoHistoryButton(argContainer) As "Menu"
    $bookmarkButton = New NagatoBookmarkButton(argContainer) As "Menu"
    $startButton = New NagatoStartButton(argContainer) As "Menu"
    
End
