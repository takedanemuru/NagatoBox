' Gambas class file

Inherits NagatoMenuWidget

Private $button As MenuButton
Private $menu As NagatoDownloadMenu

Private Const UniqueName As String = "PullDownMenuDownload"

Public Sub SetUrl(argUrl As String)
    
    $button.Visible = MikuruUrl.IsYouTubeVideo(argUrl)
    $menu.SetUrl(argUrl)
    
End

Private Sub initializeButton()
    
    $button = New MenuButton(Me._$container)
    
    With $button
        .Expand = False
        .Border = False
        .Width = Me._$container.Height
        .Picture = MikuruIcon.Get("hard-drive-download")
        .Menu = UniqueName
    End With    
    
    $menu = New NagatoDownloadMenu(UniqueName) As "TFEI"
    
End

Public Sub _InitializeWidget() ' override
    
    initializeButton()
    
End
