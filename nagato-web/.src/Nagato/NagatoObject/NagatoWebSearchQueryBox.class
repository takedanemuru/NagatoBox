' Gambas class file

Inherits NagatoSearchEngines

Private $queryBox As ButtonBox
Private $api As New NagatoDuckDuckGo

Private Sub initializeQueryBox(argContainer As Container)
    
    $queryBox = New ButtonBox(argContainer) As "QueryBox"
    
    With $queryBox
        .Expand = True
        .Picture = MikuruIcon.Get("search")
        .Border = False
    End With
    
End

Public Sub SetBang(argBang As String)
    
    $api.Bang = argBang
    
End

Public Sub _new(argContainer As Container)
    
    initializeQueryBox(argContainer)
    
End

Public Sub QueryBox_Activate()
    
    If $queryBox.Text = "" Then Return
    
    Raise MenuEventWithArg(MikuruSignal.SearchApiCall, $api.GetApi($queryBox.Text))
    
End

Public Sub QueryBox_Click()
    
    QueryBox_Activate()
    
End
