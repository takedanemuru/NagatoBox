' Gambas class file

Inherits NagatoPullDownMenu

Private $bookmarks As NagatoSubMenuBookmark
Private $bookmarkCurrentPageMenu As NagatoMenuItembookmarkCurrentPage
Private $editBookmarkMenu As NagatoMenuItemEditBookmark
Private $observer As Observer

Private Sub constructMenu()
    
    $bookmarkCurrentPageMenu = New NagatoMenuItembookmarkCurrentPage(Me._$rootMenu) As "TFEI"
    $editBookmarkMenu = New NagatoMenuItemEditBookmark(Me._$rootMenu) As "TFEI"
        MikuruMenuSeparator.Set(Me._$rootMenu)
    $bookmarks = New NagatoSubMenuBookmark(Me._$rootMenu) As "TFEI"
    
End

Public Sub _OnInitialize()
    
    constructMenu()
    $observer = New Observer(NagatoDBBookmark) As "Asakura"
    
End

Public Sub RootMenu_Show()
    
    ' override and ignore
    
End

Public Sub Asakura_Changed() ' To be removed.
    
    Me._$rootMenu.Children.Clear()
    
    constructMenu()
    
End
