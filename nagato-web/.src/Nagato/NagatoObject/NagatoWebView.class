' Gambas class file

Inherits NagatoObject

Property Read WebView As WebView

Private $webView As WebView
Private $handlerNetworkProgress As NagatoWebViewHandlerNetwork
Private $handlerUserInput As NagatoWebViewHandlerUserInput

Public Sub Forward()
    
    Try $webView.Forward()
    
End

Public Sub Back()
    
    Try $webView.Back()
    
End

Public Sub Delete()
    
    $webView.Delete()
    
End

Public Sub Toggle(argVisible As Boolean)
    
    $webView.Visible = argVisible
    
End

Public Sub InPageSearch(argQuery As String)
    
    $webView.FindText(argQuery, False, False, True)
    
End

Public Sub SetUrl(argUrl As String)
    
    $webView.Url = argUrl
    
End

Public Sub _new(argContainer As Container, argUrl As String, argUniqueIndex As Integer)
    
    $webView = New WebView(argContainer) 
     
    With $webView
        .Expand = True
        .Url = argUrl
        .UserAgent = "NagatoWeb"
        .Tracking = True
        .Font = Application.Font
    End With
    
    $handlerNetworkProgress = New NagatoWebViewHandlerNetwork($webView, argUniqueIndex) As "TFEI"
    $handlerUserInput = New NagatoWebViewHandlerUserInput($webView) As "TFEI"
    
End

Private Function WebView_Read() As WebView

    Return $webView

End
