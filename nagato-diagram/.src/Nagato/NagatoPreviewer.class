' Gambas class file

Inherits NagatoObject

Private $graphGenerator As NagatoGraphGenerator
Private $imageView As ImageView

Public Sub ShowPreview(argSourceText As String)
    
    $graphGenerator.Refresh(argSourceText)
    $imageView.Image = $graphGenerator.Image
    
End

Public Sub Export()
    
    Dialog.Title = ("Save image")
    Dialog.Path = Desktop.GetDirectory("DOCUMENTS") &/ ("your_graph.png")
    
    If Dialog.SaveFile() Then Return
    
    $imageView.Image.Save(Dialog.Path)
    
End

Public Sub _new(argContainer As Container)
    
    $imageView = New ImageView(argContainer) 
    $graphGenerator = New NagatoGraphGenerator
    
End
