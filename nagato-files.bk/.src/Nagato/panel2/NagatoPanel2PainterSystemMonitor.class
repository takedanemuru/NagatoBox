' Gambas class file

Inherits NagatoPanel2Painter

Private Const Margin As Integer = 22

Private $rect As Rect

Public Sub _OnInitialize()
    
    $rect = New Rect(0, 0, 0, Me._$drawingArea.H)
    
End

Private Sub paintSystemStatus()
    
    Paint.Brush = Paint.Color(Color.White)
    Paint.DrawText(NagatoSystemMonitorFacade.Text, $rect.X, $rect.Y, $rect.W, $rect.H, Align.Left)
    Paint.Fill()
    
End

Public Sub Paint(Optional argX As Integer) As Integer
    
    NagatoSystemMonitorFacade.EnsureActivation("nagato-desktop")
    $rect.X = Margin + (NagatoDesktopWatcher2.Count + 1) * Margin
    $rect.W = argX - $rect.X
    
    paintSystemStatus()
    
    Return $rect.X
    
End
