' Gambas class file

Private Const Margin As Integer = 20

Public Sub Start()
    
    Me.Show()
    
End

Public Sub Form_Open()

    X11Systray.Show(SystrayDrawingArea.Id)
    
End

Public Sub ArrangeTray() ' X11systray cannot call private sub.

    Dim yukiIndex As Integer
    Dim yukiX As Integer = Margin
    
    For yukiIndex = 0 To X11Systray.Count - 1
        With X11Systray[yukiIndex]
            .Resize(16, 16)
            .Move(yukiX, Margin, .IconW, .IconH)
            yukiX += .IconW + Margin
        End With
    Next
  
End

Public Sub Form_Resize()
  
    Me.ArrangeTray()
  
End

Static Public Sub X11Systray_Arrange()

    Me.ArrangeTray()

End
