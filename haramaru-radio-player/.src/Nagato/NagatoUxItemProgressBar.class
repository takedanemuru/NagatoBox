' Gambas class file

Inherits NagatoUxItem

Private $drawingArea As DrawingArea
Private $painter As NagatoPainterFacade

Private Sub initializeDrawingArea(argContainer As Container)
    
    $drawingArea = New DrawingArea(argContainer) As "DrawingArea"
    
    With $drawingArea
        .Expand = True
    End With
    
End

Public Sub _Initialize(argContainer As Container)
    
    initializeDrawingArea(argContainer)
    $painter = New NagatoPainterFacade($drawingArea)
    
    $drawingArea.Refresh()
    
End

Public Sub SetProgress(argPosition As Float, argDuration As Float)
    
    $painter.SetProgress(argPosition, argDuration)
    $drawingArea.Refresh()
    
End

Public Sub DrawingArea_Draw()
    
    Paint.Begin($drawingArea)
        $painter.Paint()
    Paint.End()
    
End

Public Sub DrawingArea_MouseDown()
    
    Raise Signal(MikuruSignal.RequestSeek, [Mouse.X / $drawingArea.W])
    
End
