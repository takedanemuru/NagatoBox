' Gambas class file

Private $player As NagatoUxContainerPlayer
Private $episodes As NagatoUxContainerEpisodes

Public Sub Form_Open()

    Application.MainWindow = Me
    NagatoSettings.LoadFormSettings(Me)
    $player = New NagatoUxContainerPlayer(Me) As "Player"
    $episodes = New NagatoUxContainerEpisodes(Me) As "Episodes"

End

Public Sub Form_Close()
    
    If Message.Question(("Are you sure to quit Haramaru Radio Player ?"), ("Cancel"), ("Quit")) = 2 Then
        $player.Stop()
        NagatoSettings.SaveFormSettings(Me)
    Else
        Stop Event
    End If
    
End

Public Sub Episodes_Signal(argSignal As Integer, argValues As Variant[])
    
    $player.PlayUrl($episodes.CurrentUrl)

End
