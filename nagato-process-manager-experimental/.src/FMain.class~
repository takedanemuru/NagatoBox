' Gambas class file

Private $systemObserver As NagatoSystemObserver
Private $gridView As NagatoGridView

Public Sub _new()

    $systemObserver = New NagatoSystemObserver As "Observer"

End

Public Sub Form_Open()

    NagatoSettings.loadFormSettings(Me)
    $gridView = New NagatoGridView(GridView1)

End

Public Sub Form_Close()
    
    NagatoSettings.saveFormSettings(Me)
    
End

Public Sub Observer_Finished(argCpuUsage As Float, argMemoryUsage As Float)
    
    Debug "finished signal received."
    ProcessorProgressBar.Value = argCpuUsage
    MemoryProgressBar.Value = argMemoryUsage

    $systemObserver.Refresh()
    
End

Public Sub GridView1_Menu()

    Dim yukiMenu As NagatoContextMenu
    
    If GridView1.Row = -1 Then Return ' -1 means no row is specified.
    yukiMenu = New NagatoContextMenu(GridView1[GridView1.Row, 0].Text, GridView1[GridView1.Row, 2].Text)
    yukiMenu.PopUp()

End
