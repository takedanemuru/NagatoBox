' Gambas class file

Create Static

Private $memoryData As String
Private $memoryTotal As Integer
Private $memoryActive As Integer
Private $memoryActiveAnon As Integer

Public Sub loadMeminfo()
    
    $memoryData = File.Load("/proc/meminfo")
    
End

Public Sub setVariables()
    
    Dim yukiArray As String[]
    
    yukiArray = Split($memoryData, "\n", "")
    $memoryTotal = Split(yukiArray[0], " ", "", True)[1]
    $memoryActive = Split(yukiArray[5], " ", "", True)[1]
    $memoryActiveAnon = Split(yukiArray[7], " ", "", True)[1]
    
End

Public Function getMemoryRate() As Float
    
    Return ($memoryActive + $memoryActiveAnon) / $memoryTotal
    
End
