' Gambas class file

Private $timer As New Timer As "Timer"
Private $painter As New NagatoSurface

Public Sub Form_Open()
    
    Application.MainWindow = Me
    NagatoSettings.LoadFormSettings(Me)
    Me.SkipTaskbar = NagatoSettings.SkipTaskbar
    Me.Sticky = NagatoSettings.Sticky
    $painter.Refresh()
    $timer.Enabled = True

End

Public Sub form_Close()
    
    NagatoSettings.SaveFormSettings(Me)
    NagatoSettings.SkipTaskbar = Me.SkipTaskbar
    NagatoSettings.Sticky = Me.Sticky
    
End

Public Sub Timer_Timer()
    
    $painter.Refresh()
    
End

Public Sub Form_MouseDrag()

    Me.X = Mouse.ScreenX - Mouse.StartX
    Me.Y = Mouse.ScreenY - Mouse.StartY

End

Public Sub Form_Menu()
    
   Dim yukiMenu As New NagatoMenu(Me)
    
    yukiMenu.Popup()
    
End

Public Sub Form_DblClick()
    
    Me.Close()
    
End
