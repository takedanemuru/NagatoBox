' Gambas class file

Inherits NagatoObserver

Private Function getSwap() As Float
    
    Dim yukiSnapShot As String[] = Split(File.Load("/proc/swaps"), "\n", "")
    Dim yukiSize As Integer
    Dim yukiUsed As Integer
    
    yukiSize = Split(yukiSnapShot[1], "\t", "", True)[1]
    yukiUsed = Split(yukiSnapShot[1], "\t", "", True)[2]
    
    Return yukiUsed / yukiSize
    
Catch
    Debug Error.Text
    Return 0
    
End

Public Sub Refresh() ' override
    
    Dim yukiUsage As Float = getSwap()
    
    Me._$current = yukiUsage
    Me._$history.Push(yukiUsage)
    
End
