' Gambas class file

Public Const Interface As String = "org.freedesktop.NetworkManager.Connection.Active"

Property Read Count As Integer
Property Read DefaultConnectionBitrate As Float

Private $objectPaths As String[]
Private $defaultDevicesObjectPath As String[]

Public Sub _new(argObjectPaths As String[])
    
    Dim yukiPath As String
    Dim yukiProxy As DBusProxy
    
    $objectPaths = argObjectPaths
    
    For Each yukiPath In argObjectPaths
        yukiProxy = DBus[NagatoNetworkManager.ApplicationName][yukiPath, Me.Interface]
        If yukiProxy.Default Then
            $defaultDevicesObjectPath = yukiProxy.Devices
            Try Debug $defaultDevicesObjectPath[0]
        End If
    Next
    
End

Private Function Count_Read() As Integer

    Return $objectPaths.Count

End

Private Function DefaultConnectionBitrate_Read() As Float

    Return 0

End
