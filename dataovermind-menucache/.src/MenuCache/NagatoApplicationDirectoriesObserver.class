' Gambas class file

Private $applicationDirectoryObserver As NagatoDirectoryObserver
Private $kdeApplicationDirectoryObserver As NagatoDirectoryObserver
Private $localApplicationDirectoryObserver As NagatoDirectoryObserver

Event Modefied(argPath As String)
Event Deleted(argPath As String)

Private Sub initializeDirectoryObservers()
    
    $applicationDirectoryObserver = New NagatoDirectoryObserver As "ApplicationObserver"
    $applicationDirectoryObserver.Directory = MikuruApplicationDirectory.Global
    
    $kdeApplicationDirectoryObserver = New NagatoDirectoryObserver As "ApplicationObserver"
    $kdeApplicationDirectoryObserver.Directory = MikuruApplicationDirectory.KDE4
    
    $localApplicationDirectoryObserver = New NagatoDirectoryObserver As "ApplicationObserver"
    $localApplicationDirectoryObserver.Directory = MikuruApplicationDirectory.Local
    
End

Public Sub _new()
    
    initializeDirectoryObservers()
    
End

Public Sub ApplicationObserver_Deleted(argPath As String)
    
    Raise Deleted(Last.Directory &/ argPath)
    
End

Public Sub ApplicationObserver_Modefied(argPath As String)
    
    Raise Modefied(Last.Directory &/ argPath)
    
End
