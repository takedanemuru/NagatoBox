' Gambas class file

Private $buttonBox As ButtonBox
Private $observer As Observer

Public Sub _new(argButtonBox As ButtonBox)
    
    $buttonBox = argButtonBox
    $buttonBox.Text = File.Name(NagatoSettings.LoginSoundPath)
    $buttonBox.ReadOnly = True
    
    $observer = New Observer($buttonBox) As "Asakura"
    
End

Public Sub Asakura_Click()
    
    Dialog.Title = ("Select login sound")
    Dialog.Filter = ["*wav", "wave file"]
    Dialog.Path = User.Home
    
    If Not Dialog.OpenFile(False) Then
        Debug Dialog.Path
        NagatoSettings.LoginSoundPath = Dialog.Path
        $buttonBox.Text = File.Name(Dialog.Path)
    Endif
    
End
