' Gambas class file

Private $drawingArea As NagatoDrawingArea
Private $player As New NagatoRadioPlayer As "RadioPlayer"
Private $history As New NagatoTagHistory

Event Title(argTitle As String)

Public Sub _new(argContainer As Container)
    
    $drawingArea = New NagatoDrawingArea(argContainer)
    $player.Play()
    
End

Public Sub RadioPlayer_TagList(argTagList As MediaTagList)
    
    Dim argTag As String
    
    For Each argTag In argTagList.Tags
        $history.Push(argTag, argTagList[argTag])
        'Debug $history.History[$history.Max]
        $drawingArea.Refresh($history.History)
        If argTag = "title" Then Raise Title(argTagList[argTag])
    Next
    
End