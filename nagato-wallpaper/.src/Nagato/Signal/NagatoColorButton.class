' Gambas class file

Inherits NagatoSignal

Private $colorButton As Button

Public Sub _new(argContainer As Container)
    
    $colorButton = New Button(argContainer) As "ColorButton"
    
    With $colorButton
        .Picture = MikuruColorChip[NagatoSettings.LastColor, 16, 26]
        .W = 42
        .Tooltip = ("Select Background Color")
    End With
    
End

Public Sub ColorButton_Click()
    
    If Dialog.SelectColor() Then Return
    
    NagatoSettings.LastColor = Dialog.Color
    $colorButton.Picture = MikuruColorChip[NagatoSettings.LastColor, 16, 26]
    
    Raise Signal(MikuruSignal.PropertyColorChanged, [NagatoSettings.LastColor])
    
End
