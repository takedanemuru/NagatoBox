' Gambas class file

Private Const Interface As String = "org.gambas.nagato.player.x.nagatodbusinterfaceproperty"

Private $proxy As DBusProxy

Public Sub _new()
    
    $proxy = DBus["Session://org.gambas.nagato-player-x"]["/org/nagato/player/x/property", Interface]
    
End

Public Sub _call()
    
    Dim yukiImage As Image = Image.Load($proxy.CoverArtPath)
    Dim yukiMargin As Integer = (2 * NagatoUx.BLOCK - yukiImage.H) / 2
    
    ' Paint.Brush = Paint.Color(Color.Violet + Color.Transparent * 128)
    ' Paint.Rectangle(0, 2 * NagatoUx.BLOCK, 4 * NagatoUx.BLOCK, 2 * NagatoUx.BLOCK)
    ' Paint.Fill()
    Paint.DrawImage(yukiImage, yukiMargin, 2 * NagatoUx.BLOCK + yukiMargin)
    
End
