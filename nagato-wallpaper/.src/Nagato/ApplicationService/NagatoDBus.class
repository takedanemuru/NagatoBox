' Gambas class file

Create Static

Private $interface As String = "org.gambas.nagato.files.nagatointerfacedesktop"

Private Function checkActivation() As Boolean
    
    Dim yukiProxy As DBusProxy = DBus["org.gambas.nagato.files"]["/org/nagato/files", $interface]
    
    Return yukiProxy.Ready
    
Catch
    Return False
    
End

Public Function IsNagatoDesktopActivated() As Boolean
    
    Dim yukiApplications As String[] = DBus.Session.Applications
    
    If Not yukiApplications.Exist("org.gambas.nagato.files") Then Return False
    
    Return checkActivation()
    
    Return False
    
End
