' Gambas class file

Private Const Type As String = "_NET_WM_WINDOW_TYPE"
Private Const TypeDesktop As String = "_NET_WM_WINDOW_TYPE_DESKTOP"

Private $desktop As NagatoDesktop
Private $charm As NagatoCharm

Private Sub setForm()
    
    With Me
        .X = 0
        .Y = 0
        .W = Screen.W
        .H = Screen.H
    End With
    
End

Private Sub setIconView()
    
    $desktop = New NagatoDesktop2(Me)
    '$charm = New NagatoCharm(Me)
    
End

Public Sub Form_Open()

    Application.MainWindow = Me
    setForm()
    setIconView()

    Shell Subst("xprop -id &1 -f &2 32a -set &2 &3 && openbox --restart", Me.Id, Type, TypeDesktop)

End

Public Sub Form_MouseMove()

    If Mouse.ScreenX > Screen.W - 2 Then $charm.Toggle

End
