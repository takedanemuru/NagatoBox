' Gambas class file

Inherits NagatoObject

Property Directory As String

Private $directoryObserver As NagatoDirectoryObserver
Private $clipboardObserver As Observer

Public Sub SetDirectory(argDirectory As String)
    
    $directoryObserver.Directory = argDirectory
    
End

Public Sub _new(argDirectory As String)
    
    $directoryObserver = New NagatoDirectoryObserver As "DirectoryObserver"
    $directoryObserver.Directory = argDirectory
    
    $clipboardObserver = New Observer(NagatoClipBoard) As "ClipboardObserver"
    
End

Public Sub DirectoryObserver_Modefied(argFileName As String)
    
    If Not NagatoSettings.ShowHidden And If File.Name(argFileName) Begins "." Then Return
    Raise Signal(NagatoObject.ObserverModefy, [argFileName])
    
End

Public Sub DirectoryObserver_Deleted(argFileName As String)
    
    If Not NagatoSettings.ShowHidden And If File.Name(argFileName) Begins "." Then Return
    Raise Signal(NagatoObject.ObserverDelete, [argFileName])
    
End

Public Sub DirectoryObserver_Lost()
    
    Raise Signal(NagatoObject.ObserverLost, [""])
    
End

Public Sub ClipboardObserver_Changed()
    
    Raise Signal(NagatoObject.ObserverClipboardChanged, Null)
    
End

Private Function Directory_Read() As String

    Return $directoryObserver.Directory

End

Private Sub Directory_Write(Value As String)

    $directoryObserver.Directory = Value

End
