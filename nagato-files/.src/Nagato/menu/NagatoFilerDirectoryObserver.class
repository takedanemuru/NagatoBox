' Gambas class file

Inherits NagatoObject

Property Directory As String

Private $directoryObserver As NagatoDirectoryObserver

Public Sub SetDirectory(argDirectory As String)
    
    $directoryObserver.Directory = argDirectory
    
End

Public Sub _new(argDirectory As String)
    
    $directoryObserver = New NagatoDirectoryObserver As "DirectoryObserver"
    
    With $directoryObserver
        .IntervalSecond = 1
        .Directory = argDirectory
    End With
    
End

Public Sub DirectoryObserver_Modefied(argFileName As String)
    
    If Not NagatoSettings.ShowHidden And If File.Name(argFileName) Begins "." Then Return
    Raise Signal(NagatoObject.ObserverModefy, [argFileName])
    
End

Public Sub DirectoryObserver_Deleted(argFileName As String)
    
    If Not NagatoSettings.ShowHidden And If File.Name(argFileName) Begins "." Then Return
    Raise Signal(NagatoObject.ObserverDelete, [argFileName])
    
End

Public Sub DirectoryObserver_Lost()
    
    Raise Signal(NagatoObject.ObserverLost, [""])
    
End

Private Function Directory_Read() As String

    Return $directoryObserver.Directory

End

Private Sub Directory_Write(Value As String)

    $directoryObserver.Directory = Value

End
