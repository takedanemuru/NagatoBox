' Gambas class file

Inherits NagatoMenuPipe

Property Read Path As String

Private $container As NagatoPanelContainer
Private $selectionButton As NagatoMenuPanelSelectionButton
Private $buttonSuite As NagatoMenuPanelButtonSuit
Private $pathBar As NagatoPathBar
Private $starButton As NagatoMenuPanelStarButton

Public Sub SetPath(argPath As String)
    
    $pathBar.SetPath(argPath)
    
End

Public Sub SetUnexistPath(argPath As String)
    
    $pathBar.SetUnexistPath(argPath)
    
End

Public Sub SetEnable(argBack As Boolean, argHome As Boolean, argUp As Boolean, argForward As Boolean)
    
    $buttonSuite.SetEnable(argBack, argHome, argUp, argForward)
    
End

Public Sub _new(argContainer As Container)
    
    $container = New NagatoPanelContainer(argContainer)
    $selectionButton = New NagatoMenuPanelSelectionButton($container.HBox)
    $buttonSuite = New NagatoMenuPanelButtonSuit($container.HBox) As "Menu"
    $pathBar = New NagatoPathBar($container.HBox) As "Menu"
    $starButton = New NagatoMenuPanelStarButton($container.HBox) As "Menu"
    
End

Private Function Path_Read() As String

    Return $pathBar.Path

End

Public Sub Menu_Changed()
    
    If $pathBar.DirectoryPath <> "" Then 
        Raise MenuEventWithArgs(NagatoMenuPipe.ViewSearch, [$pathBar.DirectoryPath, $pathBar.FilePath])
    End If
    
End
