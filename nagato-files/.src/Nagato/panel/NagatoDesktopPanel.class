' Gambas class file

Private $container As HBox
Private $starButton As NagatoMenuDesktopPanelButton
Private $main As NagatoDesktopPanelContainer
Private $systray As NagatoPanelSystray
Private $pager As NagatoPanelPager
Private $clock As NagatoPanelClock

Private Sub setPanelItems()
    
    $starButton = New NagatoMenuDesktopPanelButton($container) As "StarMenu"
    $main = New NagatoDesktopPanelContainer($container)
    '$systray = New NagatoPanelSystray($container, False)
    $pager = New NagatoPanelPager($container, False)
    $clock = New NagatoPanelClock($container, False)
    
End

Private Sub initializeContainer(argForm As Form)
    
    $container = New HBox(argForm)
    
    With $container
        .Expand = False
        .H = NagatoSettingsPanel.Height
        .Background = NagatoSettingsPanel.Background
    End With
    
End

Public Sub _new(argForm As Form)
    
    initializeContainer(argForm)
    setPanelItems()
    
End

Public Sub StarMenu_ChangeMode(argMode As Integer)
    
    $main.ChangeMode(argMode)
    
End

Public Sub StarMenu_MenuEvent(argEvent As Integer)
    
    $container.Background = NagatoSettingsPanel.Background
    $main.ForceReload()
    $pager.ForceReload()
    $clock.ForceReload()
    
End
