' Gambas class file

Inherits NagatoDesktopWindows

Property Read Width As Integer
Property Read Max As Integer

Private $totalWidth As Integer
Private $windows As New DesktopWindow[]

Private Sub reset()
    
    Dim yukiDesktopIndex As Integer
    Dim yukiWindows As New DesktopWindow[]
    
    $windows.Clear()
    Desktop.Windows.Refresh()
    
    For yukiDesktopIndex = 0 To Desktop.Count - 1
        yukiWindows = Me._PushWindow(yukiDesktopIndex, yukiWindows)
    Next
    
    $windows = yukiWindows.Copy()
    
End

Public Sub Refresh(argTotalWidth As Integer)
    
    $totalWidth = argTotalWidth
    
    Desktop.Windows.Refresh()
    reset()
    
End

Public Sub _get(argIndex As Integer) As DesktopWindow
    
    Return $windows[argIndex]
    
End

Private Function Width_Read() As Integer

    If $windows.Count = 0 Then Return $totalWidth

    Return CInt($totalWidth / $windows.Count)

End

Private Function Max_Read() As Integer

    Return $windows.Max

End
