' Gambas class file

Property Visible As Boolean

Private $container As HBox

Event MenuAction(argAction As Integer)

Private Sub addButton(argTag As Integer, argIconName As String)
    
    Dim yukiMenuButton As New MenuButton($container) As "MenuButton"
    
    With yukiMenuButton
        .AutoResize = True
        .Arrow = False
        .Border = False
        .Text = ""
        .Tag = argTag
        .W = $container.H
        .Picture = MikuruIcon.Get(argIconName)
        $container.W += .W
    End With
    
End

Public Sub _new(argContainer As Container)
    
    $container = New HBox(argContainer)
    
    With NagatoDBusAccessNagatoPlayerX
        addButton(.ActionBack, "button-rew")
        addButton(.ActionPause, "button-pause")
        addButton(.ActionPlay, "button-play")
        addButton(.ActionNext, "button-ff")
    End With
    
End

Public Sub MenuButton_Click()
    
    Raise MenuAction(Last.Tag)
    
End

Private Function Visible_Read() As Boolean

    Return $container.Visible

End

Private Sub Visible_Write(Value As Boolean)

    $container.Visible = Value

End
