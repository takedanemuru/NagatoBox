' Gambas class file

Inherits NagatoDesktopPanelContent

Private Function getText(argDesktopWindow As DesktopWindow, argWidth As Integer) As String
    
    Return MikuruCollapsedText.Get(argDesktopWindow.Name, Paint.Font, argWidth)
    
End

Public Sub _PaintText(argDesktopWindow As DesktopWindow, argRect As Rect)
    
    With argRect
        Paint.RichText(getText(argDesktopWindow, .W - 28), .X + 24, .Y, .W - 24, .H, Align.Left)
    End With
    
End

Public Sub _PaintIcon(argDesktopWindow As DesktopWIndow, argRect As Rect)
    
    If argDesktopWindow.Icon Then
        Paint.DrawImage(argDesktopWindow.Icon.Stretch(16, 16), argRect.X, argRect.Y + 4)
    Else
        Paint.DrawPicture(MikuruIcon.Get("question-balloon"), argRect.X, argRect.Y + 4)
    End If
     
End
