' Gambas class file

Create Static

Property Read Label As String
Property Read Content As String
Property Read Text As String

Private $systemMonitor As New NagatoDBusAccessSystemMonitor

Public Function EnsureActivation(argId As String) As Boolean
    
    If Not $systemMonitor.Activated Then $systemMonitor.Activate(argId)
    
    Return $systemMonitor.Activated
    
End

Private Function Label_Read() As String

    Dim yukiText As String
    
    yukiText &= "CPU<br>"
    yukiText &= "Mem.<br>"
    yukiText &= "Swap<br>"
    yukiText &= "Proc.<br>"
    yukiText &= "Temp."
    
    Return yukiText

End

Private Function Content_Read() As String

    Dim yukiText As String
    
    yukiText &= Format$($systemMonitor.CpuUsage, "##0.00%") & "<br>"
    yukiText &= Format$($systemMonitor.MemoryUsage, "##0.00%") & "<br>"
    yukiText &= Format$($systemMonitor.SwapUsage, "##0.00%") & "<br>"
    yukiText &= $systemMonitor.ProcessCount & "<br>"
    yukiText &= Format$($systemMonitor.Thermal, "##0.00Â°C")
    
    Return yukiText

End

Private Function Text_Read() As String

    Return $systemMonitor.GetText()

End
