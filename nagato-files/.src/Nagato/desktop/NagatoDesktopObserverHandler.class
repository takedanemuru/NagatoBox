' Gambas class file

Inherits NagatoDesktopHandler

Private $iconView As IconView
Private $directoryObserver As NagatoDirectoryObserver
Private $clipboardObserver As Observer
Private $settingsObserver As Observer

Private Sub initializeObserver()
    
    $directoryObserver = New NagatoDirectoryObserver As "DirectoryObserver"
    $directoryObserver.Directory = Desktop.Path
    
End

Public Sub _new(argIconView As IconView)
    
    $iconView = argIconView
    $settingsObserver = New Observer(NagatoSettingsDesktopTile) As "SettingsObserver"
    $clipboardObserver = New Observer(NagatoClipBoard) As "ClipboardObserver"
    
    initializeObserver()
    
End

Public Sub DirectoryObserver_Deleted(argFileName As String)
    
    Raise Signal(NagatoObject.ObserverDelete, [argFileName])
    
End

Public Sub DirectoryObserver_Modefied(argFileName As String)
    
    Raise Signal(NagatoObject.ObserverModefy, [argFileName])
    
End

Public Sub SettingsObserver_Changed()
    
    Raise Signal(NagatoObject.ViewForceReload, [""])
    
End

Public Sub ClipboardObserver_Changed()
    
    Raise Signal(NagatoObject.ViewForceReload, [""])
    
End
