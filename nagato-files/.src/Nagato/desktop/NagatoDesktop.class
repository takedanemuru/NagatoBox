' Gambas class file

Public Const SpecialKeyClock As String = "DesktopClock"
Public Const SpecialKeyTrashBin As String = "DesktopTrashBin"

Private $iconView As IconView
Private $observer As NagatoDesktopObserverHandler
Private $wallpaper As NagatoDesktopWallpaperHandler
Private $icons As NagatoDesktopIconsHandler
Private $mouse As NagatoDesktopMouseHandler

Private Sub initializeIconView(argContainer As Container)
    
    $iconView = New IconView(argContainer) As "DesktopIconView"
    
    With $iconView
        .Expand = True
        .Orientation = Arrange.Horizontal
        .Border = False
        .Mode = Select.Single
    End With
    
End

Public Sub _new(argContainer As Container)
    
    initializeIconView(argContainer)
    
    $wallpaper = New NagatoDesktopWallpaperHandler($iconView)
    $icons = New NagatoDesktopIconsHandler($iconView)
    $mouse = New NagatoDesktopMouseHandler($iconView) As "Mouse"
    $observer = New NagatoDesktopObserverHandler($iconView) As "DesktopObserver"

End

Public Sub DesktopObserver_RequestRefresh()
    
    $icons.Refresh()
    
End
