' Gambas class file

Inherits NagatoObserver

Private $data As New NagatoMemoryData

Private Sub resetVariables()
    
    Dim yukiLine As String
    Dim yukiStream As Stream 
    
    yukiStream = Open ("/proc/meminfo") For Input
    
    Do While Not Eof(yukiStream)
        Line Input #yukiStream, yukiLine
        $data.ReadLine(yukiLine)
    Loop
    
   Close #yukiStream
    
End

Public Function _GetUsage() As Float ' override
    
    resetVariables()
    
    Return $data.Usage
    
End
