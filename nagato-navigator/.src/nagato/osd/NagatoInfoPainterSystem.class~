' Gambas class file

Inherits NagatoInfoPainter

Private $systemText As String
Private $systemFont As Font

Public Sub Refresh()
    
    $systemText = ""
    
    $systemText &= ("Processor:" & Format$(NagatoSystemObserver.CpuUsage * 100, "##0.00") & " %" & "   ") 
    $systemText &= ("Memory:" & Format$(NagatoSystemObserver.MemoryUsage * 100, "##0.00") & " %" & "   ") 
    $systemText &= ("Swap:" & Format$(NagatoSystemObserver.SwapUsage * 100, "##0.00") & " %" & "   ") 
    $systemText &= "Process:" & NagatoSystemObserver.ProcessCount  
    
    Me._$drawingArea.Refresh()
    
End

Public Sub _InitializeDrawingArea()
    
    With Me._$drawingArea
        .Expand = True
        .Width = Me._$drawingArea.Parent.Width
        .Background = Color.DarkBlue
    End With
    
End

Public Sub DrawingArea_Draw()
    
    If Not NagatoSystemObserver.Activated Then NagatoSystemObserver.Refresh()
    
    With Paint
        .Begin(Me._$drawingArea)
        .Font.Size = 9
        .Font.Bold = True
        .Brush = .Color(Color.White)
        .Text($systemText, 16, 0, Me._$drawingArea.Parent.Width - 16, 24, Align.Left)
        .Fill()
        .End()
    End With
    
End
