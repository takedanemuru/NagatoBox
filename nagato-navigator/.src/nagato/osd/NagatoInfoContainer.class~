' Gambas class file

Private $hBox As HBox
Private $painter As Object

Private Sub switchPainter(argMode As Integer)
    
    Select Case argMode
        Case NagatoInfo.System
            $painter = New NagatoInfoPainterSystem($hBox)
        Case NagatoInfo.Music
            $painter = New NagatoInfoPainterMusic($hBox)
        Case NagatoInfo.IconBox
            $painter = New NagatoInfoPainterTasks($hBox)
        Case NagatoInfo.Rss
            $painter = New NagatoInfoPainterRss($hBox)
        Case NagatoInfo.BatteryAlert
            $painter = New NagatoInfoPainterBattery($hBox)
        Default
            $painter = New NagatoInfoPainterClock($hBox)
    End Select
    
End

Public Sub Switch(argMode As Integer)
    
    $hBox.Children.Clear()
    switchPainter(argMode)
    NagatoSettingsInfobar.Type = argMode
    
End

Public Sub Refresh()
    
    $painter.Refresh()
    
End

Public Sub _new(argHBox As HBox)
    
    $hBox = New HBox(argHBox)
    $hBox.Expand = True
    switchPainter(NagatoSettingsInfobar.Type)
    '$painter = New NagatoInfoPainterMusic($hBox)
    
End
