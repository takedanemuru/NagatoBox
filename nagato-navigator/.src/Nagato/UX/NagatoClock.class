' Gambas class file

'Private $label As Label
Private $button As Label
Private $observer As Observer

Private Sub addButton(argContainer As Container)
    
    $button = New Label(argContainer) As "Label"
    
    With $button
        .AutoResize = False
        .Text = " ClockButtonTest "
        .Border = False
        .Foreground = NagatoSettings.ForegroundColor
    End With
    
End

Public Sub _new(argContainer As Container)
    
    addButton(argContainer)
    $observer = New Observer(NagatoTimer) As "Asakura"
    
End

Public Sub Asakura_Timer()
    
    With $button
        .Text = Format$(Now(), NagatoSettings.ClockFormat)
        .Foreground = NagatoSettings.ForegroundColor
        If .Font.TextWidth(.Text) > .W Then .W = .Font.TextWidth(.Text)
    End With
    
End

Public Sub Label_Menu()
    
    Dim yukiContextMenu As New NagatoContextMenuClock
    
    yukiContextMenu.PopUp()
    
End
