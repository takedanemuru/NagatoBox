' Gambas class file

'Private $label As Label
Private $button As Label
Private $observer As Observer

Private Sub addButton(argContainer As Container)
    
    $button = New Label(argContainer) As "NagatoMenu"
    
    With $button
        .AutoResize = False
        .Text = " ClockButtonTest "
        .Border = False
        .Foreground = NagatoSettings.ForegroundColor
    End With
    
End

Private Sub addMenu()
    
    Dim yukiMenu As NagatoDynamicMenu
     
     yukiMenu = New NagatoDynamicMenu($button)
    
End

Public Sub _new(argContainer As Container)
    
    addButton(argContainer)
    'addMenu()
    
    $observer = New Observer(NagatoTimer) As "Asakura"
    
End

Public Sub Asakura_Timer()
    
    With $button
        .Text = Format$(Now(), NagatoSettings.ClockFormat)
        .Foreground = NagatoSettings.ForegroundColor
        If .Font.TextWidth(.Text) > .W Then .W = .Font.TextWidth(.Text)
    End With
    
End
