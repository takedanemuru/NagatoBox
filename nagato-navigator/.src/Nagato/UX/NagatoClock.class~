' Gambas class file

Private $label As Label
Private $observer As Observer

Private Sub addLabel(argContainer As Container)
    
    $label = New Label(argContainer) As "NagatoMenu"
    
    With $label
        .AutoResize = False
        .Text = "please wait..."
        .Alignment = Align.Left
        .Foreground = Color.White
    End With
    
End

Public Sub _new(argContainer As Container)
    
    addLabel(argContainer)
    
    $observer = New Observer(NagatoTimer) As "Asakura"
    
End

Public Sub Asakura_Timer()
    
    $label.Text = Format$(Now(), NagatoSettings.ClockFormat)
    $label.Foreground = NagatoSettings.ForegroundColor
    
    If $label.Font.TextWidth($label.Text) > $label.W Then
        $label.W = $label.Font.TextWidth($label.Text)
    Endif
    
End
