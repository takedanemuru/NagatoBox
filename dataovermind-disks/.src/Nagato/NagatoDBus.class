' Gambas class file

Create Static

Property Read Proxy As DBusProxy
Property Read IsUnique As Boolean

Public Const Service As String = "org.gambas.dataovermind-diks"
Public Const ObjectPath As String = "/org/dataovermind/disks"
Public Const Interface As String = "org.gambas.dataovermind.disks.tfei"

Public Sub Register()
    
    DBus.Session.Register(TFEI, Me.ObjectPath)
    
End

Public Sub Unregister()
    
    DBus.Session.Unregister(TFEI)
    
End

Private Function Proxy_Read() As DBusProxy

    Return DBus[Me.Service][Me.ObjectPath, Me.Interface]

End

Private Function IsUnique_Read() As Boolean

    Return Not DBus.Session.Applications.Exist(Me.Service)

End
