' Gambas class file

Property Length As Integer

Private $lcdLabel As LCDLabel
Private $length As Integer

Private Function getSign(argElement As NagatoCalcElement) As String
        
        If argElement.IsNegative And If Str$(argElement.Number) Not Begins "-" Then
                Return "-"
        Else
                Return ""
        Endif
        
End

Private Function getSpace(argUsedLength As Integer) As String
        
        Debug argUsedLength
        
        Return String$($length - argUsedLength, " ")
        
Catch
        Return ""
        
End

Public Sub ShowMessage(argText As String)
        
        $lcdLabel.Text = argText & getSpace(Len(argText))
        
End

Public Sub ShowResultState(argNumber As Float)
        
        $lcdLabel.Text = "result:" & getSpace(6 + NagatoNumber.GetValidLength(argNumber)) & argNumber
        
End

Public Sub ShowBufferState(argElement As NagatoCalcElement)
        
        Dim yukiSign As String = getSign(argElement)
        Dim yukiHeader As String = argElement.Header
        Dim yukiSpace As String = getSpace(argElement.TotalLength)
        Dim yukiNumber As String = NagatoNumber.GetStringConversion(argElement)
        
        $lcdLabel.Text = yukiHeader & yukiSpace & yukiSign & yukiNumber
        
End

Public Sub _new(argLcdLabel As LCDLabel)
        
        $lcdLabel = argLcdLabel
        
End

Private Function Length_Read() As Integer

        Return $length

End

Private Sub Length_Write(Value As Integer)

        $length = Value

End
