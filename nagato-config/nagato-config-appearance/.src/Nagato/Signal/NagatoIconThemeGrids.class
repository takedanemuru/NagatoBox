' Gambas class file

Inherits NagatoGrids

Private Sub setData()
    
    Dim yukiIconsDirectory As String = "/usr/share/icons"
    Dim yukiPath As String
    
    Debug Application.Theme
    
    For Each yukiPath In Dir(yukiIconsDirectory, "[^0-9]*", gb.Directory).Sort(gb.IgnoreCase)
        If Not Dir(yukiIconsDirectory &/ yukiPath).Exist("icon-theme.cache") Then Continue
        Inc Me._$grids.Rows.Count
        Me._$grids[Me._$grids.Rows.Max, 1].Text = yukiPath
        If Even(Me._$grids.Rows.Max) Then Me._SetBackground()
        If yukiPath = Application.Theme Then
            Me._$grids[Me._$grids.Rows.Max, 0].Picture = MikuruIcon["button-check"]
        End If
    Next
    
End

Public Sub _InitializeGrids()
    
    With Me._$grids
        .Header = GridView.Horizontal
        .Expand = True
        .Columns.Count = 2
        .Columns[0].W = 32
        .Columns[1].Text = ("Icon Theme")
        .Mode = Select.Single
    End With
    
    setData()
    
End

Public Sub Grids_Activate()
    
    Raise Signal(MikuruSignal.PropertyChanged, [Me._$grids[Me._$grids.Row, 1].Text])
    
End
