' Gambas class file

Private $timer As New Timer As "Timer"

Public Sub Start()
    
    NagatoWeatherCache.Activate(NagatoSettingsLocation.UserLatitude, NagatoSettingsLocation.UserLongitude)
    DBus.Register(NagatoInterface, "/org/nagato/weather", ["org.gambas.nagato.weather.nagatointerface"])
    
    $timer.Delay = 10000
    $timer.Enabled = True
    
End

Public Sub Timer_Timer()
    
    If NagatoInterface.Ready Then 
        Debug NagatoInterface.Condition
        Debug NagatoInterface.IconId
        Debug NagatoInterface.Temperature
    Else
        Debug "Not Ready"
    End If
    
End
