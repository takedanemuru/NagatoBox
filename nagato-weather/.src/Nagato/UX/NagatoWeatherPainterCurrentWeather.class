' Gambas class file

Inherits NagatoWeatherPainter

Private Const HeadRoom As Integer = 16

Private $textPainter As NagatoWeatherPainterText
Private $data As New NagatoWeatherCurrentData

Private Sub drawWeatherInfomation()
    
    Paint.Begin(Me._$drawingArea)
        Me._DrawBackground($data.BackgroundColor)
        Paint.DrawImage($data.Icon, (Me._$drawingArea.W - $data.Icon.W) / 2, HeadRoom)
        $textPainter.Draw($data.CurrentElement)
    Paint.End()
    
Catch
    Return
    
End

Public Function Draw() As Integer
    
    $data.Reset()
    drawWeatherInfomation()
    
    Return $data.BackgroundColor
    
End

Public Sub ChangeLongitude(argLongitude As Float)
    
    $data.ChangeLongitude(argLongitude)
    
End

Public Sub _new(argDrawingArea As DrawingArea)
    
    Me._$drawingArea = argDrawingArea
    $textPainter = New NagatoWeatherPainterText(Me._$drawingArea)
    
End
