' Gambas class file

Private $drawingArea As DrawingArea
Private $painterImages As New NagatoPainterImages
Private $painterText As New NagatoPainterText
Private $painterHands As NagatoPainterHands

Private Const Format As String = (" CPU : &1<br>Mem : &2<br>Swap : &3<br>Processes : &4 <br>Thermal : &5")

Private Function getText() As String
    
    Dim yukiCpuUsage As String = Format$(NagatoSystemMonitor.CpuUsage, "#0.00%")
    Dim yukiMemoryUsage As String = Format$(NagatoSystemMonitor.MemoryUsage, "#0.00%")
    Dim yukiSwapUsage As String = Format$(NagatoSystemMonitor.SwapUsage, "#0.00%")
    Dim yukiProcessCount As String = NagatoSystemMonitor.ProcessCount
    Dim yukiThermal As String = NagatoSystemMonitor.Thermal & "â„ƒ"
    
    Return Subst$(Format, yukiCpuUsage, yukiMemoryUsage, yukiSwapUsage, yukiProcessCount, yukiThermal)
    
Catch
    Return "YUKI.N > Please wait ..."
    
End

Public Sub PaintIt()
    
    $drawingArea.Refresh()
    
End

Public Sub _new(argContainer As Container)
    
    $painterHands = New NagatoPainterHands
    $drawingArea = New DrawingArea(argContainer) As "DrawingArea"
    
End

Public Sub DrawingArea_Draw()
    
    If Not NagatoSystemMonitor.Activated Then Return
    
    Paint.Begin($drawingArea)
        $painterImages.Paint()
        $painterHands.Paint()
        $painterText.Paint(getText())
    Paint.End()
    
End
