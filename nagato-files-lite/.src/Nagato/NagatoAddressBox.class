' Gambas class file

Inherits NagatoWidget

Private $buttonBox As ButtonBox

Public Sub SetPathWithoutSignal(argPath As String)
    
    Object.Lock($buttonBox)
        $buttonBox.Text = argPath
    Object.Unlock($buttonBox)
    
End

Public Sub _OnInitialize(argContainer As Container)
    
    $buttonBox = New ButtonBox(argContainer) As "ButtonBox"
    
    With $buttonBox
        .Expand = True
        .Picture = MikuruIcon["button-rotate-ccw"]
        .Border = False
    End With
    
End

Public Sub ButtonBox_Activate()
    
    If MikuruFile.IsValidDirecroty($buttonBox.Text) Then
        Raise Signal(MikuruSignal.UserInputMoveToDirectory, [$buttonBox.Text])
    Else If MikuruFile.IsValidDirecroty(File.Dir($buttonBox.Text)) Then
        Raise Signal(MikuruSignal.UserInputFilter, [$buttonBox.Text])
    Endif
    
End
