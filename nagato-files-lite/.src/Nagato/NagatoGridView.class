' Gambas class file

Inherits NagatoWidget

Private $gridView As GridView
Private $handlerSurface As NagatogridViewHandlerSurface
Private $handlerData As NagatogridViewHandlerData

Private Sub initializeGridView(argContainer As Container)
    
    $gridView = New GridView(argContainer) As "GridView"
    
    With $gridView
        .Expand = True
        .Columns.Count = 4
        .Columns[0].W = 24
        .Columns[1].Text = ("Name")
        .Columns[2].Text = ("Mime")
        .Columns[3].Text = ("Byte")
        .Header = GridView.Horizontal
        .Grid = False
        .Mode = Select.Multiple
    End With
    
End

Public Sub SetPath(argDirectory As String)
    
    $handlerData.Refresh(argDirectory)
    $handlerSurface.PaintRows()
    
End

Public Sub Filter(argQuery As String)
    
    $handlerData.Filter(argQuery)
    $handlerSurface.PaintRows()
    
End

Public Sub _OnInitialize(argContainer As Container)
    
    initializeGridView(argContainer)
    
    $handlerSurface = New NagatoGridViewHandlerSurface($gridView, Me._$uniqueName) As "TFEI"
    $handlerData = New NagatoGridViewHandlerData($gridView, Me._$uniqueName) As "TFEI"
    
End
